<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberPing - Network Diagnostic Tool</title>
    <style>
        :root {
            --bg-color: #0a0a1a;
            --card-bg: rgba(13, 17, 33, 0.85);
            --text-color: #e0e0ff;
            --input-bg: rgba(25, 30, 50, 0.7);
            --input-border: #2a3b7a;
            --input-focus: #4a8bfc;
            --primary-color: #6c5ce7;
            --primary-hover: #8072eb;
            --toggle-bg: #4a4a4a;
            --toggle-handle: #f0f0f0;
            --output-bg: rgba(20, 25, 45, 0.8);
            --neon-glow: 0 0 10px rgba(108, 92, 231, 0.7),
                        0 0 20px rgba(108, 92, 231, 0.5),
                        0 0 30px rgba(108, 92, 231, 0.3);
        }

        [data-theme="light"] {
            --bg-color: #f5f5ff;
            --card-bg: rgba(230, 230, 255, 0.9);
            --text-color: #222255;
            --input-bg: rgba(240, 240, 255, 0.9);
            --input-border: #aab5e5;
            --input-focus: #4a8bfc;
            --primary-color: #6c5ce7;
            --primary-hover: #5d4fd6;
            --toggle-bg: #e0e0ff;
            --toggle-handle: #6c5ce7;
            --output-bg: rgba(220, 220, 255, 0.9);
            --neon-glow: 0 0 10px rgba(108, 92, 231, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Cyberpunk World Map Background */
        #cyberpunk-map {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
        }

        .grid-line {
            stroke: rgba(108, 92, 231, 0.15);
            stroke-width: 1;
        }

        .continent {
            fill: none;
            stroke: rgba(108, 92, 231, 0.3);
            stroke-width: 1.5;
        }

        .network-node {
            fill: rgba(108, 92, 231, 0.7);
            stroke: rgba(180, 170, 255, 0.9);
            stroke-width: 1;
            filter: url(#glow);
        }

        .network-line {
            stroke: rgba(108, 92, 231, 0.4);
            stroke-width: 0.7;
        }

        .pulse {
            fill: rgba(108, 92, 231, 0.5);
            stroke: rgba(180, 170, 255, 0.7);
            stroke-width: 1;
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { r: 3; opacity: 0.8; }
            50% { r: 5; opacity: 0.4; }
            100% { r: 3; opacity: 0.8; }
        }

        .container {
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            z-index: 1;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.2rem;
            color: var(--primary-color);
            text-shadow: var(--neon-glow);
            letter-spacing: 1px;
        }

        h2 {
            margin-bottom: 15px;
            color: var(--text-color);
            font-size: 1.4rem;
        }

        .theme-switch-wrapper {
            display: flex;
            align-items: center;
        }

        .theme-switch {
            display: inline-block;
            height: 24px;
            position: relative;
            width: 50px;
        }

        .theme-switch input {
            display: none;
        }

        .slider {
            background-color: var(--toggle-bg);
            bottom: 0;
            cursor: pointer;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: .4s;
            border-radius: 34px;
            box-shadow: 0 0 5px rgba(108, 92, 231, 0.5);
        }

        .slider:before {
            background-color: var(--toggle-handle);
            bottom: 3px;
            content: "";
            height: 18px;
            left: 4px;
            position: absolute;
            transition: .4s;
            width: 18px;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), var(--neon-glow);
            width: 100%;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(108, 92, 231, 0.3);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--input-border);
            border-radius: 6px;
            background-color: var(--input-bg);
            color: var(--text-color);
            font-size: 16px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--input-focus);
            box-shadow: 0 0 0 2px rgba(74, 139, 252, 0.2),
                        inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 4px 10px rgba(108, 92, 231, 0.4);
        }

        button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        #output {
            margin-top: 25px;
            padding: 15px;
            border-radius: 6px;
            background-color: var(--output-bg);
            min-height: 50px;
            font-family: monospace;
            white-space: pre-wrap;
            display: none;
            border: 1px solid rgba(108, 92, 231, 0.2);
            box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.2);
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 0.9rem;
            color: rgba(224, 224, 255, 0.7);
        }

        @media (max-width: 600px) {
            .container {
                padding: 0 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .card {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <!-- Cyberpunk Vector World Map Background -->
    <svg id="cyberpunk-map" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid slice">
        <defs>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -8" result="glow" />
                <feComposite in="SourceGraphic" in2="glow" operator="over" />
            </filter>
        </defs>
        
        <!-- Grid lines -->
        <g class="grid">
            <line class="grid-line" x1="0" y1="100" x2="1000" y2="100" />
            <line class="grid-line" x1="0" y1="200" x2="1000" y2="200" />
            <line class="grid-line" x1="0" y1="300" x2="1000" y2="300" />
            <line class="grid-line" x1="0" y1="400" x2="1000" y2="400" />
            <line class="grid-line" x1="0" y1="500" x2="1000" y2="500" />
            
            <line class="grid-line" x1="100" y1="0" x2="100" y2="600" />
            <line class="grid-line" x1="200" y1="0" x2="200" y2="600" />
            <line class="grid-line" x1="300" y1="0" x2="300" y2="600" />
            <line class="grid-line" x1="400" y1="0" x2="400" y2="600" />
            <line class="grid-line" x1="500" y1="0" x2="500" y2="600" />
            <line class="grid-line" x1="600" y1="0" x2="600" y2="600" />
            <line class="grid-line" x1="700" y1="0" x2="700" y2="600" />
            <line class="grid-line" x1="800" y1="0" x2="800" y2="600" />
            <line class="grid-line" x1="900" y1="0" x2="900" y2="600" />
        </g>
        
        <!-- Simplified continents -->
        <path class="continent" d="M150,250 C200,200 250,220 300,200 C350,180 400,200 450,220 C500,240 550,230 600,250 C650,270 700,300 750,280 C800,260 850,270 850,320 C850,370 800,400 750,420 C700,440 650,430 600,420 C550,410 500,400 450,390 C400,380 350,370 300,350 C250,330 200,300 150,280 Z" />
        <path class="continent" d="M200,450 C250,430 300,440 350,450 C400,460 450,470 500,480 C550,490 600,500 650,490 C700,480 750,460 800,450 C800,500 750,530 700,550 C650,570 600,580 550,570 C500,560 450,550 400,540 C350,530 300,520 250,500 C200,480 180,460 200,450 Z" />
        <path class="continent" d="M100,350 C120,330 150,320 180,310 C210,300 240,290 270,280 C300,270 330,260 360,250 C330,280 300,310 270,340 C240,370 210,400 180,430 C150,460 120,490 90,520 C70,490 80,450 100,420 C110,400 110,370 100,350 Z" />
        
        <!-- Network nodes and connections -->
        <circle class="network-node" cx="300" cy="250" r="4" />
        <circle class="network-node" cx="500" cy="280" r="4" />
        <circle class="network-node" cx="700" cy="320" r="4" />
        <circle class="network-node" cx="350" cy="400" r="4" />
        <circle class="network-node" cx="600" cy="450" r="4" />
        <circle class="network-node" cx="250" cy="350" r="4" />
        <circle class="network-node" cx="450" cy="500" r="4" />
        <circle class="network-node" cx="750" cy="380" r="4" />
        
        <line class="network-line" x1="300" y1="250" x2="500" y2="280" />
        <line class="network-line" x1="500" y1="280" x2="700" y2="320" />
        <line class="network-line" x1="300" y1="250" x2="350" y2="400" />
        <line class="network-line" x1="350" y1="400" x2="600" y2="450" />
        <line class="network-line" x1="600" y1="450" x2="700" y2="320" />
        <line class="network-line" x1="300" y1="250" x2="250" y2="350" />
        <line class="network-line" x1="250" y1="350" x2="350" y2="400" />
        <line class="network-line" x1="600" y1="450" x2="450" y2="500" />
        <line class="network-line" x1="700" y1="320" x2="750" y2="380" />
        
        <!-- Animated pulse effects -->
        <circle class="pulse" cx="300" cy="250" r="3" />
        <circle class="pulse" cx="700" cy="320" r="3" />
        <circle class="pulse" cx="600" cy="450" r="3" />
    </svg>

    <div class="container">
        <header>
            <h1>CyberPing =^_^=</h1>
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="checkbox">
                    <input type="checkbox" id="checkbox" />
                    <div class="slider"></div>
                </label>
            </div>
        </header>

        <div class="card">
            <form id="form">
                <div class="form-group">
                    <h2>IP Address</h2>
                    <input type="text" id="ip_address" placeholder="Enter IP address or domain">
                </div>
                <button type="submit" name="button">Initiate Ping Sequence</button>
            </form>
            
            <div id="output"></div>
        </div>

        <div class="footer">
            <p>Cybernetic Network Diagnostic Tool</p>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript">
    $(document).ready(function() {
        // Theme switching functionality
        const toggleSwitch = document.querySelector('#checkbox');
        const currentTheme = localStorage.getItem('theme') || 'dark';
        
        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            if (currentTheme === 'light') {
                toggleSwitch.checked = true;
            }
        }
        
        function switchTheme(e) {
            if (e.target.checked) {
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }    
        }
        
        toggleSwitch.addEventListener('change', switchTheme, false);
        
        // Original ping functionality
        $('#form').on('submit',function(e){
            const ip = $('#ip_address').val();
            if (!ip) {
                $('#output').text('Please enter an IP address or domain').show();
                e.preventDefault();
                return;
            }
            
            $.ajax({
                data: {
                    ip_address: ip
                },
                type: 'POST',
                url: '/'
            })
            .done(function(data){
                $('#output').text(data.output).show();
            })
            .fail(function() {
                $('#output').text('Error: Could not complete ping request').show();
            });
            
            e.preventDefault();
        });
    });
    </script>
</body>
</html>
